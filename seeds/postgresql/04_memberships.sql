-- ========================================
-- SEEDS: Membresías (Usuarios en Escuelas)
-- ========================================
-- Ejecutar después de 02_users.sql y 01_schools.sql
-- Asigna usuarios a escuelas con sus roles

INSERT INTO memberships (id, user_id, school_id, role, is_active) VALUES
-- ========================================
-- LICEO TÉCNICO SANTIAGO (Premium)
-- ========================================
-- Admin del sistema
('mem-11111111-1111-1111-1111-111111111111',
 '11111111-1111-1111-1111-111111111111',
 '44444444-4444-4444-4444-444444444444',
 'admin',
 true),

-- Docentes
('mem-22222222-2222-2222-2222-222222222221',
 '22222222-2222-2222-2222-222222222221',
 '44444444-4444-4444-4444-444444444444',
 'teacher',
 true),

('mem-22222222-2222-2222-2222-222222222222',
 '22222222-2222-2222-2222-222222222222',
 '44444444-4444-4444-4444-444444444444',
 'teacher',
 true),

('mem-22222222-2222-2222-2222-222222222224',
 '22222222-2222-2222-2222-222222222224',
 '44444444-4444-4444-4444-444444444444',
 'teacher',
 true),

-- Estudiantes
('mem-33333333-3333-3333-3333-333333333331',
 '33333333-3333-3333-3333-333333333331',
 '44444444-4444-4444-4444-444444444444',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333332',
 '33333333-3333-3333-3333-333333333332',
 '44444444-4444-4444-4444-444444444444',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333333',
 '33333333-3333-3333-3333-333333333333',
 '44444444-4444-4444-4444-444444444444',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333334',
 '33333333-3333-3333-3333-333333333334',
 '44444444-4444-4444-4444-444444444444',
 'student',
 true),

-- ========================================
-- COLEGIO VALPARAÍSO (Basic)
-- ========================================
-- Docentes
('mem-22222222-2222-2222-2222-222222222223',
 '22222222-2222-2222-2222-222222222223',
 '55555555-5555-5555-5555-555555555555',
 'teacher',
 true),

-- Estudiantes
('mem-33333333-3333-3333-3333-333333333335',
 '33333333-3333-3333-3333-333333333335',
 '55555555-5555-5555-5555-555555555555',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333336',
 '33333333-3333-3333-3333-333333333336',
 '55555555-5555-5555-5555-555555555555',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333337',
 '33333333-3333-3333-3333-333333333337',
 '55555555-5555-5555-5555-555555555555',
 'student',
 true),

-- ========================================
-- INSTITUTO BIOBÍO (Standard)
-- ========================================
-- Docentes
('mem-22222222-2222-2222-2222-222222222225',
 '22222222-2222-2222-2222-222222222225',
 '66666666-6666-6666-6666-666666666666',
 'teacher',
 true),

-- Estudiantes
('mem-33333333-3333-3333-3333-333333333338',
 '33333333-3333-3333-3333-333333333338',
 '66666666-6666-6666-6666-666666666666',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333339',
 '33333333-3333-3333-3333-333333333339',
 '66666666-6666-6666-6666-666666666666',
 'student',
 true),

('mem-33333333-3333-3333-3333-333333333340',
 '33333333-3333-3333-3333-333333333340',
 '66666666-6666-6666-6666-666666666666',
 'student',
 true)

ON CONFLICT (id) DO NOTHING;

-- Verificación
SELECT 'Seeds de membresías cargados: ' || COUNT(*) || ' membresías' AS resultado FROM memberships;
